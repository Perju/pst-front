<mat-card class="command-input">
  <form [formGroup]="formGroupCommands" (ngSubmit)="onFormSubmit()">
    <mat-card-header>
      <table class="example-full-width" cellspacing="0">
        <tr>
          <td>
            <mat-card-title>Comando</mat-card-title>
          </td>
          <td class="float-right">
            <button mat-raised-button color="accent">Guardar</button>
          </td>
          <td class="float-right">
            <mat-slide-toggle formControlName="active">Activo</mat-slide-toggle>
          </td>
        </tr>
      </table>
    </mat-card-header>
    <mat-card-content>
      <table class="example-full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="example-full-width">
              <mat-label>Nombre</mat-label>
              <input matInput formControlName="name" placeholder="Nombre" />
              <mat-error *ngIf="formGroupCommands.get('nombre')?.invalid">
                {{ getErrorMessage('name') }}
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="example-full-width">
              <mat-label>Tiempo de espera</mat-label>
              <input
                type="text"
                matInput
                formControlName="colddown"
                placeholder="5"
              />
              <mat-error *ngIf="formGroupCommands.get('colddown')?.invalid">
                {{ getErrorMessage('colddown') }}
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="example-full-width">
              <mat-label>Nivel de usuario</mat-label>
              <input
                type="text"
                matInput
                formControlName="usr_lvl"
                placeholder="5"
              />
              <mat-error *ngIf="formGroupCommands.get('usr_lvl')?.invalid">
                {{ getErrorMessage('usr_lvl') }}
              </mat-error>
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td colspan="6">
            <mat-form-field class="mensaje-input">
              <mat-label>Mensaje</mat-label>
              <textarea
                matInput
                formControlName="message"
                placeholder="Hola chat"
              ></textarea>
              <mat-error *ngIf="formGroupCommands.get('intervalo')?.invalid">
                {{ getErrorMessage('mensaje') }}
              </mat-error>
            </mat-form-field>
          </td>
        </tr>
      </table>
    </mat-card-content>
    <mat-card-footer> </mat-card-footer>
  </form>
</mat-card>
<ng-container *ngFor="let command of commands">
  <mat-card class="commands-list">
    <mat-card-header>
      <table class="example-full-width" cellspacing="0">
        <tr>
          <td>
            <mat-label class="title">Comando !</mat-label>
            <span>{{ command.name }}</span>
          </td>
        </tr>
      </table>
    </mat-card-header>
    <mat-card-content>
      <table class="example-full-width plain" cellspacing="0">
        <tr>
          <td>
            <mat-label>Mensaje</mat-label>&nbsp;
            <span>{{ command.response }}</span>
          </td>
          <td>
            <mat-label>Nivel de usuario</mat-label>&nbsp;
            <span>{{ getUserLevel(command.usr_lvl) }}</span>
          </td>
          <td>
            <div class="float-right">
              <mat-label>Activo</mat-label>
              <mat-icon
                [fontIcon]="getActiveIcon(command.active)"
                [ngClass]="{
                  iconGreen: command.active,
                  iconRed: !command.active
                }"
              ></mat-icon>
            </div>
          </td>
        </tr>
      </table>
    </mat-card-content>
    <mat-card-footer> </mat-card-footer>
  </mat-card>
</ng-container>
